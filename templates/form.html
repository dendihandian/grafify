{% extends 'layout/app.html' %}

{% block content %}
	<form class="flex flex-col items-center w-full md:flex-row" id="graph-form" method="POST" action="/result">
		<div class="relative w-full md:w-2/3" x-data="{placeholderGraphValue: exampleGraphValue, graphValue: $persist('')}">
			<textarea class="w-full p-4 border border-green-600 rounded resize-none h-96" x-model="graphValue" name="graph_json" id="" cols="30" rows="10"></textarea>
			<button class="absolute right-0 p-2 text-sm text-white bg-green-500 rounded-bl hover:bg-green-700" @click="graphValue = exampleGraphValue" x-show="graphValue.length < 1" tabindex="0" type="button">Use Example</button>
		</div>
		<div class="flex items-center justify-center w-full mt-4 md:w-1/3 md:mt-0">
			<button class="w-48 px-4 py-2 text-white rounded bg-gradient-to-r from-teal-500 to-green-500 hover:ring-2 ring-green-500 ring-offset-4 hover:from-teal-700 hover:to-green-700" type="submit">Grafify!</button>
		</div>
	</form>
{% endblock %}

{% block prescript %}
<script data-prescript>
	var exampleGraph = {
		nodes: [
			{
				id: 'A'
			},
			{
				id: 'B'
			},
			{
				id: 'C'
			},
			{
				id: 'D'
			}
		],
		edges: [
			{
				source: 'A',
				target: 'B',
			},
			{
				source: 'B',
				target: 'C',
			},
			{
				source: 'C',
				target: 'A',
			},
			{
				source: 'C',
				target: 'D',
			}
		]
	}

	var exampleGraphValue = JSON.stringify(exampleGraph, null, 2);
</script>
{% endblock %}